<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SecretSwap.fun</title>
  <style>
    :root {
      --coral: #FF7F50;
      --lavender: #9370DB;
    }
    body {
      font-family: 'Comic Sans MS', cursive;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      text-align: center;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    textarea {
      width: 100%;
      height: 100px;
      border: 2px dashed var(--lavender);
      border-radius: 10px;
      padding: 15px;
      font-size: 18px;
      margin: 20px 0;
    }
    .emotion-btn {
      font-size: 28px;
      background: none;
      border: none;
      cursor: pointer;
      margin: 0 10px;
      transition: transform 0.3s;
    }
    .emotion-btn:hover {
      transform: scale(1.2);
    }
    #submitBtn {
      background: var(--coral);
      color: white;
      border: none;
      padding: 15px 40px;
      font-size: 20px;
      border-radius: 50px;
      cursor: pointer;
      margin-top: 20px;
      box-shadow: 0 5px 15px rgba(255,127,80,0.4);
    }
    .fox {
      font-size: 60px;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="fox">ðŸ¦Š</div>
    <h1>Confiez votre secret...</h1>
    <p><em>Tout reste anonyme - Aucun enregistrement</em></p>
    
    <textarea id="secretInput" placeholder="Ã‰crivez ici ce qui vous pÃ¨se... (max 200 caractÃ¨res)"></textarea>
    
    <div>
      <span>Je me sens :</span>
      <button class="emotion-btn" onclick="selectEmotion('ðŸ˜Š')">ðŸ˜Š</button>
      <button class="emotion-btn" onclick="selectEmotion('ðŸ˜¢')">ðŸ˜¢</button>
      <button class="emotion-btn" onclick="selectEmotion('ðŸ˜ ')">ðŸ˜ </button>
      <button class="emotion-btn" onclick="selectEmotion('ðŸ˜³')">ðŸ˜³</button>
    </div>
    
    <button id="submitBtn" onclick="submitSecret()">Envoyer anonymement</button>
  </div>

  <script>
    // CONFIGURATION OBLIGATOIRE
    const SHEET_ID = "COLLER_VOTRE_ID_GOOGLE_SHEET_ICI";
    let selectedEmotion = null;

    function selectEmotion(emoji) {
      selectedEmotion = emoji;
      document.querySelectorAll('.emotion-btn').forEach(btn => 
        btn.style.border = emoji === btn.textContent ? '3px solid var(--coral)' : 'none'
      );
    }

    async function submitSecret() {
      const secret = document.getElementById('secretInput').value;
      
      if(!secret || !selectedEmotion) {
        alert("Veuillez Ã©crire un secret et sÃ©lectionner une Ã©motion !");
        return;
      }

      // Envoi vers Google Sheets
      const response = await fetch(
        `https://script.google.com/macros/s/${SHEET_ID}/exec?secret=${encodeURIComponent(secret)}&emotion=${selectedEmotion}`
      );
      
      if(response.ok) {
        document.getElementById('secretInput').value = "";
        alert("Secret envoyÃ© ! Vous recevrez bientÃ´t un secret similaire...");
      } else {
        alert("Erreur : rÃ©essayez plus tard");
      }
    }
  </script>
</body>
</html>