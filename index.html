<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SecretSwap.fun - Exchange your secrets anonymously</title>
    <script src="https://www.paypal.com/sdk/js?client-id=BAASqHmRUaw9JpJWNA3d0XElWNNDdRQdytHNxWDxEtZTz8gICMWyhyqiKfNtkbc4Q8-f2aYdN5VR_ailf8&components=hosted-buttons&disable-funding=venmo&currency=USD"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="model-status" id="modelStatus">
        <div class="spinner"></div>
        Loading content moderation model...
    </div>
    
    <header>
        <div class="logo">
            <div class="logo-icon">🤫</div>
            <h1>SecretSwap<span class="fun">.fun</span></h1>
        </div>
        <p class="tagline">Share your secrets anonymously and get one in return</p>
    </header>
    
    <div class="container" id="secretFormContainer">
        <div class="step">
            <h2><span>1</span> Share your secret</h2>
            <textarea 
                id="secretInput" 
                class="secret-input" 
                placeholder="Write what's on your mind... (min 100, max 500 characters)"></textarea>
            <div class="char-count"><span id="charCount">0</span>/500 characters</div>
            <div class="error-message" id="lengthError">Secret must be at least 100 characters long</div>
            <div class="moderation-message" id="moderationMessage">
    <div class="toxicity-summary">Inappropriate content detected</div>
    <p>Your secret contains toxic language or code (<span class="toxicity-percent">0%</span>). Please rephrase your message.</p>
    <div class="toxicity-bar">
        <div class="toxicity-level" id="toxicityLevel"></div>
    </div>
    <div class="toxicity-labels">
        <span>Safe</span>
        <span>Toxic</span>
    </div>
</div>
        </div>
        
        <div class="step">
            <h2><span>2</span> Choose your emotion</h2>
            <div class="emotion-selector">
                <button class="emotion-btn" data-emotion="😤" title="Excessive Pride - Feeling of superiority">😤</button>
                <button class="emotion-btn" data-emotion="🤑" title="Greed - Obsessive desire for possessions">🤑</button>
                <button class="emotion-btn" data-emotion="😒" title="Envy - Resentment of others' success">😒</button>
                <button class="emotion-btn" data-emotion="😠" title="Wrath - Violent and destructive emotion">😠</button>
                <button class="emotion-btn" data-emotion="😏" title="Lust - Uncontrollable desire">😏</button>
                <button class="emotion-btn" data-emotion="😋" title="Gluttony - Excessive pursuit of pleasure">😋</button>
                <button class="emotion-btn" data-emotion="😑" title="Sloth - Lack of energy and interest">😑</button>
            </div>
            <div class="error-message" id="emotionError">Please select an emotion</div>
        </div>
        
        <button id="submitBtn" class="submit-btn" disabled>Share anonymously</button>
        
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>Looking for a similar secret...</p>
        </div>
    </div>
    
    <div class="container" id="resultContainer">
        <h2 id="resultTitle">Here is a secret similar to yours:</h2>
        <div class="secret-result" id="secretResult">
            Loading your secret...
        </div>
        
        <div class="actions-container" id="actionsContainer">
            <button class="action-btn keep-btn" data-action="keep">
                <span>📁</span> Keep
            </button>
            <button class="action-btn forget-btn" data-action="forget">
                <span>🧹</span> Forget
            </button>
            <button class="action-btn support-btn" data-action="support">
                <span>🤗</span> Support
            </button>
            <button class="action-btn reveal-btn" data-action="reveal">
                <span>📣</span> Reveal
            </button>
        </div>
        
        <div class="paypal-container" id="paypalContainer">
            <div class="paypal-text">How much do you value this secret?</div>
            <div id="paypal-container-DKK8KM24TAJRE"></div>
        </div>
        
        <div class="stats-display" id="statsDisplay">
            <div class="stats-title">Community Response</div>
            <div class="stats-grid">
                <div class="stat-display">
                    <div class="stat-display-value" id="keepStat">0</div>
                    <div class="stat-display-label">Keep</div>
                </div>
                <div class="stat-display">
                    <div class="stat-display-value" id="forgetStat">0</div>
                    <div class="stat-display-label">Forget</div>
                </div>
                <div class="stat-display">
                    <div class="stat-display-value" id="supportStat">0</div>
                    <div class="stat-display-label">Support</div>
                </div>
                <div class="stat-display">
                    <div class="stat-display-value" id="revealStat">0</div>
                    <div class="stat-display-label">Reveal</div>
                </div>
            </div>
        </div>
        
        <div class="thank-you-message" id="thankYouMessage">
            Thank you for participating!
        </div>
        
        <button class="restart-btn" id="restartBtn">Share another secret</button>
    </div>
    
    <div class="how-it-works">
        <h2>How it works?</h2>
        <div class="steps">
            <div class="step-card">
                <div class="step-icon">🔒</div>
                <div class="step-number">1</div>
                <h3>Share anonymously</h3>
                <p>Write your secret and choose your current emotion.</p>
            </div>
            <div class="step-card">
                <div class="step-icon">🔄</div>
                <div class="step-number">2</div>
                <h3>Receive a secret</h3>
                <p>Instantly get a secret from someone feeling the same.</p>
            </div>
            <div class="step-card">
                <div class="step-icon">💌</div>
                <div class="step-number">3</div>
                <h3>Support others</h3>
                <p>Keep, forget, or support a secret.</p>
            </div>
            <div class="step-card">
                <div class="step-icon">🦊</div>
                <div class="step-number">4</div>
                <h3>Release it</h3>
                <p>Share this secret with the whole world!</p>
            </div>
        </div>
    </div>
    
    <div class="stats-container">
        <h2>Community Secrets Statistics</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">🤫</div>
                <div class="stat-value" id="totalSecrets">0</div>
                <div class="stat-label">Total Secrets</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😤</div>
                <div class="stat-value" id="emotion1">0</div>
                <div class="stat-label">Excessive Pride</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">🤑</div>
                <div class="stat-value" id="emotion2">0</div>
                <div class="stat-label">Greed</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😒</div>
                <div class="stat-value" id="emotion3">0</div>
                <div class="stat-label">Envy</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😠</div>
                <div class="stat-value" id="emotion4">0</div>
                <div class="stat-label">Wrath</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😏</div>
                <div class="stat-value" id="emotion5">0</div>
                <div class="stat-label">Lust</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😋</div>
                <div class="stat-value" id="emotion6">0</div>
                <div class="stat-label">Gluttony</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">😑</div>
                <div class="stat-value" id="emotion7">0</div>
                <div class="stat-label">Sloth</div>
            </div>
        </div>
    </div>
    
    <div class="container">
        <h2>Your secrets are safe</h2>
        <div class="features">
            <div class="feature">
                <div class="feature-icon">🔐</div>
                <h3>Total anonymity</h3>
                <p>No personal information is collected or stored.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">🔄</div>
                <h3>Instant exchanges</h3>
                <p>Receive a similar secret as soon as you share yours.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">💖</div>
                <h3>Caring community</h3>
                <p>A judgment-free space to free yourself.</p>
            </div>
            <div class="feature">
                <div class="feature-icon">🛡️</div>
                <h3>Content moderation</h3>
                <p>All secrets are checked for inappropriate content.</p>
            </div>
        </div>
    </div>
    
    <div class="revealed-secrets-container">
        <h2 class="revealed-secrets-title">Revealed Secrets</h2>
        <div class="loading" id="revealedLoading">
            <div class="spinner"></div>
            <p>Loading revealed secrets...</p>
        </div>
        <div class="secrets-grid" id="revealedSecretsGrid">
            <!-- Revealed secrets will be loaded here -->
        </div>
    </div>
    
    <footer>
        <p>© 2025 SecretSwap.fun - All rights reserved</p>
        <p>An anonymous and caring space to share what's on your mind</p>
        <p><a href="bitcoin/" target="_blank">Double or nothing </a> | <a href="#">Terms of Use</a></p>
    </footer>
<script src="app.js"></script>
</body>
</html>